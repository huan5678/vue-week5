{"version":3,"file":"js/526.3d4cb136.js","mappings":"uLAqDQA,MAAM,wD,GACLA,MAAM,sB,GAKPC,EAAAA,EAAAA,GAAkD,UAA1CD,MAAM,wBAAuB,QAAI,G,GAEvCC,EAAAA,EAAAA,GAAsD,SAA/CC,IAAI,WAAWF,MAAM,cAAa,SAAK,G,GAW9CC,EAAAA,EAAAA,GAA0D,SAAnDC,IAAI,eAAeF,MAAM,cAAa,SAAK,G,GASpDC,EAAAA,EAAAA,GAKS,UAJPE,KAAK,SACLH,MAAM,uGACP,QAED,G,0CAjCNI,EAAAA,EAAAA,IAoCO,OApCP,EAoCO,EAnCLH,EAAAA,EAAAA,GAkCM,MAlCN,EAkCM,EAjCJA,EAAAA,EAAAA,GAgCO,QA/BLD,MAAM,2CACLK,SAAM,8BAAUC,EAAAA,eAAAA,EAAAA,iBAAAA,IAAa,eAFhC,CAIEC,GACAN,EAAAA,EAAAA,GAUM,YATJO,GASI,SARJP,EAAAA,EAAAA,GAOE,SANAQ,GAAG,WACHN,KAAK,OACLO,KAAK,WACLC,YAAY,a,qCACEL,EAAAA,SAAQM,GACtBZ,MAAM,2JANR,iBAKgBM,EAAAA,cAAAA,EAAAA,C,MAAd,SAIJL,EAAAA,EAAAA,GASM,YARJY,GAQI,SAPJZ,EAAAA,EAAAA,GAME,SALAQ,GAAG,eACHN,KAAK,WACLH,MAAM,0J,qCACGM,EAAAA,aAAYM,GACrBD,YAAY,SALd,iBAIWL,EAAAA,kBAIbQ,GA1BF,Q,4CAlDN,GACEC,QACE,MAAM,WAAEC,IAAeC,EAAAA,EAAAA,MACjB,eAAEC,EAAF,eAAkBC,GAAmBH,EACrCI,GAASC,EAAAA,EAAAA,MACTC,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAeD,EAAAA,EAAAA,IAAI,IAEzB,SAASE,IACP,MAAMC,EAAWJ,EAASK,MACpBC,EAAWJ,EAAaG,MACxBE,EAAO,CACXH,SAAAA,EACAE,SAAAA,IAEFE,EAAAA,EAAAA,GAAI,CACFC,OAAQ,OACRC,IAAK,eACLH,KAAMA,IAELI,MAAMC,IACL,MAAML,EAAO,CACXM,MAAOD,EAAIL,KAAKM,MAChBC,QAASF,EAAIL,KAAKO,SAEpBlB,EAAeW,GACfT,EAAOiB,KAAK,aAEbC,OAAOC,IACNC,QAAQC,IAAIF,MASlB,OALAG,EAAAA,EAAAA,KAAU,KACR,MAAMC,EAAcxB,IACD,KAAnBwB,EAAY,IAAavB,EAAOiB,KAAK,aAGhC,CACLf,SAAAA,EACAE,aAAAA,EACAC,cAAAA,K,UCzCN,MAAMmB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week5/./src/views/Login.vue","webpack://week5/./src/views/Login.vue?93c0"],"sourcesContent":["<script>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport useStore from '@/stores';\nimport { Api } from '@/api';\nexport default {\n  setup() {\n    const { adminStore } = useStore();\n    const { handleSetLogin, handleGetToken } = adminStore;\n    const router = useRouter();\n    const userName = ref('');\n    const userPassword = ref('');\n\n    function handlerSubmit() {\n      const username = userName.value;\n      const password = userPassword.value;\n      const data = {\n        username,\n        password,\n      };\n      Api({\n        method: 'post',\n        url: 'admin/signin',\n        data: data,\n      })\n        .then((res) => {\n          const data = {\n            token: res.data.token,\n            expired: res.data.expired,\n          };\n          handleSetLogin(data);\n          router.push('/admin');\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    }\n\n    onMounted(() => {\n      const cookieToken = handleGetToken();\n      cookieToken[0] !== '' && router.push('/admin');\n    });\n\n    return {\n      userName,\n      userPassword,\n      handlerSubmit,\n    };\n  },\n};\n</script>\n\n<template>\n  <main class=\"flex justify-center items-center h-screen bg-gray-50\">\n    <div class=\"container max-w-lg\">\n      <form\n        class=\"space-y-8 p-8 bg-white rounded shadow-sm\"\n        @submit.prevent=\"handlerSubmit\"\n      >\n        <legend class=\"text-4xl text-center\">請先登入</legend>\n        <div>\n          <label for=\"userName\" class=\"mb-4 block\">使用者帳號</label>\n          <input\n            id=\"userName\"\n            type=\"text\"\n            name=\"userName\"\n            placeholder=\"請輸入帳號Email\"\n            v-model.trim=\"userName\"\n            class=\"p-2 rounded border w-full bg-gray-50 invalid:text-primary-600 invalid:border-primary-600 focus:ring-primary-500 focus:text-primary-600 text-primary-800\"\n          />\n        </div>\n        <div>\n          <label for=\"userPassword\" class=\"mb-4 block\">使用者密碼</label>\n          <input\n            id=\"userPassword\"\n            type=\"password\"\n            class=\"p-2 rounded border w-full bg-gray-50 invalid:text-primary-600 invalid:border-primary-600 focus:ring-primary-500 focus:text-primary-600 text-primary-800\"\n            v-model=\"userPassword\"\n            placeholder=\"請輸入密碼\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          class=\"w-full bg-primary-500 text-white rounded-lg py-4 w-100 transition duration-300 hover:bg-primary-600\"\n        >\n          登入\n        </button>\n      </form>\n    </div>\n  </main>\n</template>\n","import { render } from \"./Login.vue?vue&type=template&id=037af27a\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Volumes/DATA/Design_Craft/Web/Vue-hexschool/vue-week5-cli/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","onSubmit","$setup","_hoisted_3","_hoisted_4","id","name","placeholder","$event","_hoisted_5","_hoisted_6","setup","adminStore","useStore","handleSetLogin","handleGetToken","router","useRouter","userName","ref","userPassword","handlerSubmit","username","value","password","data","Api","method","url","then","res","token","expired","push","catch","err","console","dir","onMounted","cookieToken","__exports__","render"],"sourceRoot":""}